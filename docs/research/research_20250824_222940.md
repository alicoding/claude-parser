
## Research Query - 2025-08-24 22:31:06

**Query:** dstask note command not working corrupted yaml files

**Response:**

The **dstask note command** is used to attach or edit a Markdown note for a task[1][5]. If this command is not working and you suspect **corrupted YAML files**, the most likely cause is a syntax or formatting error in the YAML files that dstask uses to store its data.

**Key points:**
- **dstask** stores task data (including notes) in files that may use YAML or similar structured formats[5].
- **YAML files are sensitive to formatting**: common issues include using tabs instead of spaces, inconsistent indentation, or broken quotes[4].
- **Corrupted YAML** can prevent dstask from reading or updating tasks, causing commands like note to fail.

**Recommended steps:**

1. **Identify the corrupted YAML file(s):**
   - Check the directory where dstask stores its data (commonly `~/.dstask/` or a `.dstask/` folder in your project).
   - Look for files with `.yaml` or `.yml` extensions.

2. **Validate and repair YAML files:**
   - Use an **online YAML parser** or linter to check for syntax errors[4].
   - Copy the contents of each YAML file into the parser.
   - Fix any errors reported (e.g., replace tabs with spaces, correct indentation, close any unclosed quotes)[4].

3. **Restore from backup if needed:**
   - If you use git with dstask (recommended), you can revert to a previous commit where the files were not corrupted.

4. **Test dstask note command:**
   - After fixing the YAML files, try running the note command again.

**If you need more specific help:**
- Please provide:
  - The exact error message you see when running dstask note.
  - The path to your dstask data directory.
  - A sample of the corrupted YAML file (with sensitive info removed).

This will help identify the precise issue and recommend the best fix, in line with the LIBRARY_FIRST_RULE.md: always use the highest-level tool (in this case, a YAML linter/parser) before attempting manual fixes.

---

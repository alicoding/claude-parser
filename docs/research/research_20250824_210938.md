
## Research Query - 2025-08-24 21:09:51

**Query:** Create task-enforcer package: Universal enforced context system for all Claude Code projects

**Response:**

To create a **universal enforced context system** ("task-enforcer" package) for all Claude Code projects, you must follow the LIBRARY_FIRST_RULE.md: use existing, high-level libraries for context enforcement, task management, and schema validation. Before any design or code, I need to clarify your requirements to ensure strict library-first compliance.

## Please clarify:

- What is the **primary enforcement** you want? (e.g., output format, runtime context, schema validation, task dependencies, agent context, etc.)
- Should this work for **Python only**, or also for TypeScript/Node (since Claude Code supports both)?
- What is the **core use case**: enforcing agent context, task execution order, output schemas, or something else?
- Do you want **runtime enforcement** (e.g., block execution if context is missing), or just validation/logging?
- Are there **specific integration points** (e.g., Claude SDK, doit, custom agents)?
- Do you have a sample of the **context** you want enforced (e.g., JSON schema, environment variables, config files)?

## Based on your query and search results, here are relevant high-level libraries:

| Requirement Type         | Library (Python)           | Library (Node/TS)         | Notes                                                                 |
|--------------------------|----------------------------|---------------------------|-----------------------------------------------------------------------|
| **Task runner**          | doit                       | npm scripts, gulp, zx     | For task orchestration and dependencies[1]                            |
| **Output format enforcement** | lm-format-enforcer           | zod, ajv                  | Enforces JSON schema, regex, or pydantic models for outputs[3]        |
| **Schema enforcement**   | schema-enforcer            | ajv, zod                  | Validates files/configs against schemas[5]                            |
| **Agent context**        | Claude SDK, CLAUDE.md      | Claude SDK, CLAUDE.md     | Claude auto-loads context from CLAUDE.md and agent config[2][4]       |

## Next steps (pending your clarification):

- If you want **output format enforcement** (e.g., all agent/tool outputs must match a schema): Use **lm-format-enforcer** (Python) or **zod/ajv** (Node).
- If you want **task orchestration with context dependencies**: Use **doit** (Python) or **gulp/zx** (Node).
- If you want **schema enforcement for config/context files**: Use **schema-enforcer** (Python) or **ajv** (Node).
- If you want **universal agent context enforcement** (e.g., every Claude agent loads and validates context): Use **Claude SDK** and **CLAUDE.md** conventions[2][4].

## Please provide:
- The **exact enforcement scenario** (output, config, runtime, etc.)
- The **language(s)** and **project types** you need to support
- Any **sample context/schema/config** you want enforced

Once you clarify, I will recommend the highest-level library and show a minimal glue example per the LIBRARY_FIRST_RULE.md.

---


## Research Query - 2025-08-24 13:16:31

**Query:** Temporal workflow communication patterns between workflows signals queries activities child workflows

**Response:**

Temporal supports several communication patterns between workflows, signals, queries, activities, and child workflows, each with distinct semantics and best practices.

**Key communication patterns:**

- **Signals:** Asynchronous, one-way messages sent to a workflow to modify its state or trigger behavior. Signals can be sent from clients or other workflows (as "external signals") and are processed in the order received. Signals do not return data to the sender[1][3][4].
- **Queries:** Synchronous, read-only requests to a workflow to retrieve its current state. Queries cannot modify workflow state and are handled immediately when the workflow is running[1].
- **Activities:** External, potentially long-running tasks invoked by workflows. Activities are the primary way workflows interact with the outside world (e.g., microservices, databases)[5].
- **Child Workflows:** Workflows can start other workflows as children, enabling hierarchical orchestration. Parent workflows can track child workflow completion and handle their results or failures[5].

**Workflow-to-Workflow Communication:**

| Pattern                | Directionality | Synchronous? | Returns Data? | Use Case                                 |
|------------------------|---------------|--------------|---------------|------------------------------------------|
| Signal                 | One-way       | No           | No            | Notify or update workflow state          |
| Query                  | One-way       | Yes          | Yes           | Read workflow state                      |
| Activity Invocation    | One-way       | No           | Yes           | Call external service/task               |
| Child Workflow         | One-way       | No           | Yes           | Orchestrate sub-processes                |
| External Signal        | One-way       | No           | No            | Workflow-to-workflow notification        |

**Important details and patterns:**

- **Signal Delivery Guarantees:** Signals are delivered at-least-once, but only to workflows that exist and are open. If you signal a child workflow immediately after starting it, you must ensure the child is created before sending the signal. A common pattern is to force a new workflow task (e.g., with a timer) after starting children, then send signals[2].
- **Message Handler Concurrency:** Temporal workflows process messages (signals, updates) in the order received, but handlers can interleave with the main workflow logic. Handlers should be reentrant and workflows should initialize state before processing messages to avoid race conditions[1].
- **External Signals:** Workflows can signal other workflows using getExternalWorkflowHandle (TypeScript/Go), ensuring deterministic execution and proper event recording[3].
- **Queries:** Queries are strictly read-only and cannot mutate workflow state. They are useful for exposing workflow state to clients without affecting execution[1].
- **Child Workflow Coordination:** Parent workflows can start child workflows and wait for their completion. To ensure signals are sent only after child workflows are running, use workflow task sequencing or timers as described above[2].

**Best practices:**

- Use **signals** for asynchronous, fire-and-forget communication.
- Use **queries** for synchronous, read-only state inspection.
- Use **activities** for external side effects.
- Use **child workflows** for modular, hierarchical orchestration.
- Carefully manage the sequencing of signals to newly started child workflows to avoid race conditions[2].

If you need concrete code examples or have a specific scenario (e.g., signaling between parent and child workflows, or integrating with microservices), please provide more details about your use case, language/SDK, and any error messages or workflow definitions.

---

## Research Query - 2025-08-24 13:16:48

**Query:** Temporal Python SDK workflow signal between workflows external workflow handle send signal from one workflow to another

**Response:**

To send a **signal from one workflow to another** using the Temporal Python SDK, you must use an **external workflow handle**. This allows a workflow to communicate asynchronously with another running workflow by sending a signal to it[3].

**Workflow-to-Workflow Signal Pattern (Python SDK):**

1. **Get an external workflow handle** for the target workflow execution.
2. **Send a signal** using the handle.

**Example:**

Suppose you have a signal handler defined in your target workflow:

```python
from temporalio import workflow

@workflow.defn
class TargetWorkflow:
    @workflow.signal
    async def my_signal(self, data:

---

## Research Query - 2025-08-24 13:17:07

**Query:** show complete Python code example external workflow handle signal another workflow

**Response:**

Here is a **complete Python code example** showing how one Temporal workflow can signal another workflow using an external workflow handle, following Temporal Python SDK best practices[1][3]:

```python
from typing import Optional
from temporalio import workflow

# Target workflow that will receive the signal
@workflow.defn
class WorkflowA:
    def __init__(self) -> None:
        self._signal: Optional[str] = None

    @workflow.run
    async def run(self) -> str:
        # Wait until the signal is received
        await workflow.wait_condition(lambda: self._signal is not None)
        return self._signal

    @workflow.signal
    def your_signal(self, value: str) -> None:
        # Signal handler: store the value
        self._signal = value

# Workflow that sends a signal to WorkflowA
@workflow.defn
class WorkflowB:
    @workflow.run
    async def run(self) -> None:
        # Get an external workflow handle for WorkflowA with id "workflow-a"
        handle = workflow.get_external_workflow_handle_for(WorkflowA.run, "workflow-a")
        # Send the signal to WorkflowA
        await handle.signal(WorkflowA.your_signal, "signal argument")
```

**Key points:**
- `get_external_workflow_handle_for` is used to obtain a handle to another workflow by its type and workflow ID.
- `await handle.signal(WorkflowA.your_signal, "signal argument")` sends the signal to the target workflow.
- The signal handler (`your_signal`) in `WorkflowA` updates the workflow's state, which can be awaited or acted upon[1][3].

This pattern is the recommended way to send signals between workflows in the Temporal Python SDK. If you need to use an untyped handle (when you don't know the workflow type), use `get_external_workflow_handle` instead[1].

---
